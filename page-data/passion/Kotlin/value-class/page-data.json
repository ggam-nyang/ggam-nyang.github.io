{"componentChunkName":"component---src-templates-blog-template-js","path":"/passion/Kotlin/value-class/","result":{"data":{"cur":{"id":"48549a88-0c64-5910-b7b5-07ac5b26b1ef","html":"<blockquote>\n<p><a href=\"https://edu.nextstep.camp\">NextStep - TDD, 클린 코드 with Kotlin</a>강의를 참고했습니다.</p>\n</blockquote>\n<h3 id=\"java-kotlin의-int\" style=\"position:relative;\"><a href=\"#java-kotlin%EC%9D%98-int\" aria-label=\"java kotlin의 int permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Java, Kotlin의 Int</h3>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">    <span class=\"token annotation builtin\">@Test</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">test1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> number1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">val</span> number2 <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>number2<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isSameAs</span><span class=\"token punctuation\">(</span>number2<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Test</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> number1 <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">val</span> number2 <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    \n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1 <span class=\"token operator\">==</span> number2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isTrue\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1 <span class=\"token operator\">===</span> number2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isTrue\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>두 테스트는 모두 참일까?\n당연하게도 그렇다. 코틀린은 타입 추론을 통해, 타입을 명시하지 않아도 number1, number2는 Int가 된다.\n여기서 Int는 코틀린의 Primitive type이고 컴파일 된 바이트 코드를 자바를 역컴파일하면 int가 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">    <span class=\"token annotation builtin\">@Test</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">test1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> number1 <span class=\"token operator\">=</span> <span class=\"token number\">1_000</span>\n        <span class=\"token keyword\">val</span> number2 <span class=\"token operator\">=</span> <span class=\"token number\">1_000</span>\n\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>number2<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isSameAs</span><span class=\"token punctuation\">(</span>number2<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Test</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> number1 <span class=\"token operator\">=</span> <span class=\"token number\">1_000</span>\n        <span class=\"token keyword\">val</span> number2 <span class=\"token operator\">=</span> <span class=\"token number\">1_000</span>\n    \n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1 <span class=\"token operator\">==</span> number2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isTrue\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1 <span class=\"token operator\">===</span> number2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isTrue\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 경우를 보자.\n결과는 테스트2만 통과한다. 이유가 뭘까?\n정답은 <code class=\"language-text\">isSameAs</code> 메서드와 자바의 Integer에 있다.</p>\n<p>isSameAs 메서드는 Object로 파라미터를 받는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@Override</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">SELF</span> <span class=\"token function\">isSameAs</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> expected<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    objects<span class=\"token punctuation\">.</span><span class=\"token function\">assertSame</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">,</span> actual<span class=\"token punctuation\">,</span> expected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> myself<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>그래서 Test1을 컴파일 후 자바로 디컴파일 해보면</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">int</span> number1 <span class=\"token operator\">=</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">int</span> number2 <span class=\"token operator\">=</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span>\n      <span class=\"token class-name\">Assertions</span><span class=\"token punctuation\">.</span><span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>number2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token class-name\">Assertions</span><span class=\"token punctuation\">.</span><span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isSameAs</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span>number2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span></code></pre></div>\n<p>위와 같다. isSameAs에 int를 넘길 순 없기에 원시타입 int의 래퍼 클래스인 Integer로 변환한다.\n때문에 <code class=\"language-text\">number1 == number2</code>지만 <code class=\"language-text\">number1 !== number2</code>이 된다.</p>\n<p>다음 테스트를 보자</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">    <span class=\"token annotation builtin\">@Test</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">test3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> number1 <span class=\"token operator\">=</span> Integer<span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">val</span> number2 <span class=\"token operator\">=</span> Integer<span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1 <span class=\"token operator\">==</span> number2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isTrue\n        <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>number1 <span class=\"token operator\">===</span> number2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isTrue\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 테스트는 어떨까? 마찬가지로 동등성 비교는 통과하지만, 주소값을 비교하는 동일성 비교는 실패할까?\n정답은 모두 통과한다.</p>\n<p>이유는 Integer 타입에 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@IntrinsicCandidate</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Integer</span> <span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">>=</span> <span class=\"token class-name\">IntegerCache</span><span class=\"token punctuation\">.</span>low <span class=\"token operator\">&amp;&amp;</span> i <span class=\"token operator\">&lt;=</span> <span class=\"token class-name\">IntegerCache</span><span class=\"token punctuation\">.</span>high<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> <span class=\"token class-name\">IntegerCache</span><span class=\"token punctuation\">.</span>cache<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token class-name\">IntegerCache</span><span class=\"token punctuation\">.</span>low<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>자바의 <code class=\"language-text\">Integer</code>는 내부에 -127 ~ 128 값을 가지는 Integer 객체를 생성해놓았다.\n때문에 valueOf 메서드를 통해 Integer(1) 객체를 반복생성해도, 같은 객체가 반환되는 것이다.\n자주 사용되는 객체를 반복 생성하지 않고 재활용함으로써 메모리를 효율적으로 사용할 수 있게 된다.</p>\n<p>이런 방식을 <a href=\"https://refactoring.guru/ko/design-patterns/flyweight\">Flyweight 패턴</a>이라 한다.</p>\n<p>이 방식을 적용하면 성능을 높일 수 있다.\n예를 들어</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> number<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">companion</span> <span class=\"token keyword\">object</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> MIN_NUMBER <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">const</span> <span class=\"token keyword\">val</span> MAX_NUMBER <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> uniformMap <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>MIN_NUMBER<span class=\"token operator\">..</span>MAX_NUMBER<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">associateWith</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">fun</span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span>number<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Uniform <span class=\"token operator\">=</span> uniformMap<span class=\"token punctuation\">[</span>number<span class=\"token punctuation\">]</span> <span class=\"token operator\">?:</span> <span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span>number<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>팩토리 메소드를 만들어 관리하면, Uniform 객체는 0~20까지는 같은 인스턴스가 반환이 된다.\nprivate constructor를 사용하는 것도 좋다.</p>\n<p>드디어 코틀린의 value class를 이야기해보자!!\nValue class의 목적은 결국 최적화에 있다.\n<code class=\"language-text\">Uniform</code> 클래스의 경우에도, primitive 타입의 프로퍼티 1개만을 가지는데, 이렇게 래핑할 경우 객체지향 관점에서 이점이 많다.\n그러나 컴파일러 입장에선, primitive 타입이 가지는 빠르고 가벼운 이점이 모두 사라지고 런타임 환경에서 훨씬 성능이 저하된다.\n이를 위해 래핑되어 있지만, 컴파일 단계에서는 그렇지 않도록 해주는 방식이다! 즉 장점만 취한 느낌이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@JvmInline</span>\nvalue <span class=\"token keyword\">class</span> <span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> number<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">init</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">require</span><span class=\"token punctuation\">(</span>number <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token operator\">..</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation builtin\">@Test</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">test4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> uniform1 <span class=\"token operator\">=</span> <span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> uniform2 <span class=\"token operator\">=</span> <span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>uniform1 <span class=\"token operator\">==</span> uniform2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isTrue\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>uniform1 <span class=\"token operator\">===</span> uniform2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isTrue <span class=\"token comment\">// value class는 동등성 비교는 불가하다.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 테스트의 결과는 실패로 예상된다. 그러나 통과한다! 팩토리 메서드와 캐싱을 사용하지 않았음에도 말이다.\n자바로 디컴파일해보면</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@Test</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">int</span> uniform1 <span class=\"token operator\">=</span> <span class=\"token class-name\">ValueUniformTest<span class=\"token punctuation\">.</span>Uniform</span><span class=\"token punctuation\">.</span>constructor<span class=\"token operator\">-</span><span class=\"token function\">impl</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">int</span> uniform2 <span class=\"token operator\">=</span> <span class=\"token class-name\">ValueUniformTest<span class=\"token punctuation\">.</span>Uniform</span><span class=\"token punctuation\">.</span>constructor<span class=\"token operator\">-</span><span class=\"token function\">impl</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token class-name\">Assertions</span><span class=\"token punctuation\">.</span><span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ValueUniformTest<span class=\"token punctuation\">.</span>Uniform</span><span class=\"token punctuation\">.</span>equals<span class=\"token operator\">-</span><span class=\"token function\">impl0</span><span class=\"token punctuation\">(</span>uniform1<span class=\"token punctuation\">,</span> uniform2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isTrue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 나타난다. 우리는 Uniform(1)을 호출했지만, <code class=\"language-text\">constructor-impl</code>이라는 메서드를 호출하고 있다.\n이는 value class이기 때문에 자동 생성된 것으로</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> constructor_impl<span class=\"token comment\">/* $FF was: constructor-impl*/</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> number<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span> <span class=\"token operator\">&lt;=</span> number <span class=\"token operator\">?</span> number <span class=\"token operator\">&lt;</span> <span class=\"token number\">21</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token class-name\">String</span> var3 <span class=\"token operator\">=</span> <span class=\"token string\">\"Failed requirement.\"</span><span class=\"token punctuation\">;</span>\n         <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span>var3<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token keyword\">return</span> number<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 만들어준다. 즉 팩토리 메서드를 자동 생성해주는 것과 같다!!\n뿐만 아니라 실제 인스턴스를 만들지 않고, 컴파일 단계에서 primitive 타입으로 변경되어 훨씬 효율적인 코드를 작성할 수 있게 된다.</p>\n<p>그 외에도 value class의 특징들은 <a href=\"https://kotlinlang.org/docs/inline-classes.html\">공식문서 Value class</a>를 참고해볼 수 있다!</p>","excerpt":"NextStep - TDD, 클린 코드 with Kotlin강의를 참고했습니다. Java, Kotlin의 Int 두 테스트는 모두 참일까?\n당연하게도 그렇다. 코틀린은 타입 추론을 통해, 타입을 명시하지 않아도 number1, number2는 Int가 된다.\n여기서 Int는 코틀린의 Primitive type이고 컴파일 된 바이트 코드를 자바를 역컴파일하면 int가 된다. 위 경우를 보자.\n결과는 테스트2만 통과한다. 이유가 뭘까?\n정답은  메서드와 자바의 Integer에 있다. isSameAs 메서드는 Object로 파라미터를 받는다. 그래서 Test1을 컴파일 후 자바로 디컴파일 해보면 위와 같다. isSameAs에 int를 넘길 순 없기에 원시타입 int의 래퍼 클래스인 Integer로 변환한다.\n때문에 지만 이 된다. 다음 테스트를 보자 위 테스트는 어떨까? 마찬가지로 동등성 비교는 통과하지만, 주소값을 비교하는 동일성 비교는 실패할까?\n정답은 모두 통과한다. 이유는 Int…","frontmatter":{"date":"June 29, 2023","title":"Value Class","categories":"Kotlin","author":"지구깜냥","emoji":"🌱"},"fields":{"slug":"/passion/Kotlin/value-class/"}},"next":{"id":"8709133e-b0e2-5d4e-819b-480011d528f7","html":"<p>이루고 싶은걸 생각하자.</p>\n<h2 id=\"-오늘\" style=\"position:relative;\"><a href=\"#-%EC%98%A4%EB%8A%98\" aria-label=\" 오늘 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🔥 오늘</h2>\n<ul>\n<li>Kotlin\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> Step2 리뷰</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> 블랙잭 강의</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> 블랙잭 Step1</li>\n</ul>\n</li>\n<li>독서\n<ul>\n<li>역행자</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"️-내일\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EB%82%B4%EC%9D%BC\" aria-label=\"️ 내일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>☀️ 내일</h2>\n<ul>\n<li>Kotlin\n<ul>\n<li>Step3</li>\n<li>블랙잭 Step1</li>\n</ul>\n</li>\n<li>독서\n<ul>\n<li>역행자</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-배움\" style=\"position:relative;\"><a href=\"#-%EB%B0%B0%EC%9B%80\" aria-label=\" 배움 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📚 배움</h2>","frontmatter":{"date":"June 28, 2023","title":"2023.06.28(Wed)","categories":"데일리","author":"지구깜냥","emoji":"🌱"},"fields":{"slug":"/steady/daily/2023/06/28/"}},"prev":{"id":"cbeae8c2-7201-57a3-95c8-eb2e9933faf2","html":"<p>이루고 싶은걸 생각하자.</p>\n<h2 id=\"-오늘\" style=\"position:relative;\"><a href=\"#-%EC%98%A4%EB%8A%98\" aria-label=\" 오늘 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🔥 오늘</h2>\n<ul>\n<li>Kotlin\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Step3</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> 블랙잭 Step1</li>\n</ul>\n</li>\n<li>Spring\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> (extra) BT Ec2에 배포</li>\n</ul>\n</li>\n<li>독서\n<ul>\n<li>역행자</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"️-내일\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EB%82%B4%EC%9D%BC\" aria-label=\"️ 내일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>☀️ 내일</h2>\n<ul>\n<li>Kotlin\n<ul>\n<li>Step3 리뷰</li>\n<li>블랙잭 Step2</li>\n</ul>\n</li>\n<li>독서\n<ul>\n<li>역행자</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"-배움\" style=\"position:relative;\"><a href=\"#-%EB%B0%B0%EC%9B%80\" aria-label=\" 배움 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📚 배움</h2>","frontmatter":{"date":"June 30, 2023","title":"2023.06.30(Fri)","categories":"데일리","author":"지구깜냥","emoji":"🌱"},"fields":{"slug":"/steady/daily/2023/06/30/"}},"site":{"siteMetadata":{"siteUrl":"https://ggam-nyang.github.io","comments":{"utterances":{"repo":"ggam-nyang/ggam-nyang.github.io"}}}}},"pageContext":{"slug":"/passion/Kotlin/value-class/","nextSlug":"/steady/daily/2023/06/28/","prevSlug":"/steady/daily/2023/06/30/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}